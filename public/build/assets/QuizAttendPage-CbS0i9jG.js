import{r as m,W as j,j as t}from"./app-BCgre1YW.js";import{M as v}from"./MainLayout-DhqFmO3I.js";import"./index-CFWMbi3i.js";function S({exam:a}){const[o,r]=m.useState(""),[x,d]=m.useState(!1),{post:p,data:u,setData:b}=j({exam_id:a.id,selectedAnswers:{}});m.useEffect(()=>{const e=new Date(a.start_date).getTime(),s=new Date(a.end_date).getTime(),i=()=>{const n=new Date().getTime();if(n<e){const c=e-n;r(h(c)),d(!1)}else if(n>=e&&n<=s){const c=s-n;r(h(c)),d(!0)}else r("The exam has ended."),d(!1)};i();const l=setInterval(i,1e3);return()=>clearInterval(l)},[a.start_date,a.end_date]);const h=e=>{const s=Math.floor(e/36e5%24),i=Math.floor(e/(1e3*60)%60),l=Math.floor(e/1e3%60);return`${s.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}`},f=(e,s)=>{b("selectedAnswers",{...u.selectedAnswers,[e]:s})},g=e=>{e.preventDefault(),p("/quiz/submit")};return t.jsx("div",{className:"min-h-screen p-8 bg-gray-50",children:t.jsxs("div",{className:"max-w-4xl mx-auto bg-gray-200 p-6 rounded-md shadow-md",children:[t.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:a.name}),t.jsx("p",{className:"text-gray-600 mb-4",children:a.description}),t.jsx("div",{className:"text-xl font-semibold mb-4",children:x?t.jsxs("span",{children:["Time Remaining: ",o]}):t.jsxs("span",{children:["Exam starts in: ",o]})}),x?t.jsxs("form",{onSubmit:g,children:[a.questions.map(e=>t.jsxs("div",{className:"mb-6",children:[t.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:e.question}),t.jsx("ul",{className:"space-y-2",children:e.answers.map(s=>t.jsx("li",{children:t.jsxs("label",{className:"flex items-center",children:[t.jsx("input",{type:"radio",name:`question_${e.id}`,value:s.id,checked:u.selectedAnswers[e.id]===s.id,onChange:()=>f(e.id,s.id),className:"mr-2"}),s.answer]})},s.id))})]},e.id)),t.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-500 transition-colors duration-300",children:"Submit Quiz"})]}):t.jsx("div",{className:"text-red-600",children:"The exam is not available yet."})]})})}S.layout=a=>t.jsx(v,{title:"Attend Quiz",children:a});export{S as default};
