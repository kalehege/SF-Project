import{r as j,W as N,j as e}from"./app-BCgre1YW.js";import{M as E}from"./MainLayout-DhqFmO3I.js";import"./index-CFWMbi3i.js";function k({exam:s,courses:v}){const[m,x]=j.useState(!1),[u,b]=j.useState(!1),{data:d,setData:r,put:h,errors:l}=N({name:s.name,description:s.description,attempt_count:s.attempt_count||"",start_date:s.start_date||"",end_date:s.end_date||"",course_id:s.courses.id||""}),{data:n,setData:c,post:f,errors:o}=N({question:"",exam_id:s.id,answers:["","","",""],correctAnswerIndex:0}),p=()=>x(!m),g=()=>b(!u),w=t=>{t.preventDefault(),h(`/admin/exams/${s.id}`,{onSuccess:()=>x(!1)})},y=t=>{t.preventDefault(),f("/quiz/store",{onSuccess:()=>b(!1)})},_=()=>{h(`/admin/exams/${s.id}/delete`,{})},C=(t,a)=>{const i=[...n.answers];i[t]=a,c("answers",i)};return e.jsx("div",{className:"min-h-screen p-8 bg-gray-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto bg-gray-200 p-6 rounded-md shadow-md",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:s.name}),e.jsx("p",{className:"text-gray-600 mb-4",children:s.description}),e.jsx("p",{className:"text-gray-900 mb-4 ml-5",children:s.courses.name}),e.jsx("button",{onClick:p,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-500",children:"Edit Exam"}),e.jsx("button",{onClick:_,className:"mt-4 ml-4 px-4 py-2  bg-rose-500 text-white rounded-md hover:bg-blue-500",children:"Delete Exam"}),e.jsx("button",{onClick:g,className:"mt-4 ml-4 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-500",children:"Configure Quiz"}),m&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-md shadow-lg max-w-md w-full",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Edit Exam"}),e.jsxs("form",{onSubmit:w,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-bold mb-1",htmlFor:"course",children:"Select Course Category"}),e.jsx("select",{id:"course",className:"w-full p-2 border border-gray-300 rounded-md",value:d.course_id,onChange:t=>r("course_id",t.target.value),children:v.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id))}),l.course_id&&e.jsx("span",{className:"text-red-600 text-sm",children:l.course_id})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-bold mb-1",htmlFor:"name",children:"Exam Name"}),e.jsx("input",{id:"name",type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:d.name,onChange:t=>r("name",t.target.value)}),l.name&&e.jsx("span",{className:"text-red-600 text-sm",children:l.name})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-bold mb-1",htmlFor:"description",children:"Description"}),e.jsx("textarea",{id:"description",className:"w-full p-2 border border-gray-300 rounded-md",value:d.description,onChange:t=>r("description",t.target.value)}),l.description&&e.jsx("span",{className:"text-red-600 text-sm",children:l.description})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-bold mb-1",htmlFor:"attempt_count",children:"Attempt Count"}),e.jsx("input",{id:"attempt_count",type:"number",className:"w-full p-2 border border-gray-300 rounded-md",value:d.attempt_count,onChange:t=>r("attempt_count",t.target.value)}),l.attempt_count&&e.jsx("span",{className:"text-red-600 text-sm",children:l.attempt_count})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-bold mb-1",htmlFor:"start_date",children:"Start Date and Time"}),e.jsx("input",{id:"start_date",type:"datetime-local",className:"w-full p-2 border border-gray-300 rounded-md",value:d.start_date,onChange:t=>r("start_date",t.target.value)}),l.start_date&&e.jsx("span",{className:"text-red-600 text-sm",children:l.start_date})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-bold mb-1",htmlFor:"end_date",children:"End Date and Time"}),e.jsx("input",{id:"end_date",type:"datetime-local",className:"w-full p-2 border border-gray-300 rounded-md",value:d.end_date,onChange:t=>r("end_date",t.target.value)}),l.end_date&&e.jsx("span",{className:"text-red-600 text-sm",children:l.end_date})]}),e.jsx("button",{type:"submit",className:"mt-4 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-500",children:"Save Changes"})]}),e.jsx("button",{onClick:p,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-500",children:"Close"})]})}),u&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-md shadow-lg max-w-md w-full",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Configure Quiz"}),e.jsxs("form",{onSubmit:y,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-bold mb-2",htmlFor:"question",children:"Quiz Question"}),e.jsx("input",{id:"question",type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:n.question,onChange:t=>c("question",t.target.value)}),o.question&&e.jsx("div",{className:"text-red-500 text-sm",children:o.question})]}),n.answers.map((t,a)=>e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-bold mb-1",htmlFor:`answer-${a}`,children:["Answer ",a+1]}),e.jsx("input",{id:`answer-${a}`,type:"text",className:"w-full p-2 border border-gray-300 rounded-md",value:t,onChange:i=>C(a,i.target.value)})]},a)),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-bold mb-1",children:"Select Correct Answer"}),e.jsx("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:n.correctAnswerIndex,onChange:t=>c("correctAnswerIndex",parseInt(t.target.value)),children:n.answers.map((t,a)=>e.jsxs("option",{value:a,children:["Answer ",a+1]},a))}),o.correctAnswerIndex&&e.jsx("div",{className:"text-red-500 text-sm",children:o.correctAnswerIndex})]}),e.jsx("button",{type:"submit",className:"mt-4 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-500",children:"Save Quiz"})]}),e.jsx("button",{onClick:g,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-500",children:"Close"})]})}),e.jsxs("div",{className:"mt-8",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Quiz Bank"}),s.questions.length>0?s.questions.map(t=>e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-2",children:t.question}),e.jsx("ul",{className:"list-disc ml-5",children:t.answers.map(a=>e.jsxs("li",{className:`mb-2 ${a.is_correct?"text-green-600 font-semibold":"text-red-600 font-semibold"}`,children:[a.answer," ",a.is_correct?"✔️":"❌"]},a.id))})]},t.id)):e.jsx("p",{children:"No quizzes available for this exam yet."})]}),e.jsx("div",{className:"mt-6",children:e.jsx("a",{href:"/admin/exams",className:"text-blue-600 hover:underline",children:"← Back to Exams"})})]})})}k.layout=s=>e.jsx(E,{title:"Exam Details",children:s});export{k as default};
