import{j as e,q as h,W as x,Y as f,a as j,y as i}from"./app-BCgre1YW.js";import{A as g,M as y}from"./MainLayout-DhqFmO3I.js";import{L as b}from"./LoadingButton-Du_yXOAt.js";import{F as n,T as l}from"./FieldGroup-CaEU-CRY.js";import{S as v}from"./SelectInput-5o07HgwK.js";import{F as w}from"./FileInput-BlyfOU6R.js";import{T as _}from"./trash-2-Bi1XzYx-.js";import"./index-CFWMbi3i.js";function N({onDelete:t,children:a}){return e.jsx("button",{className:"text-red-600 focus:outline-none hover:underline",type:"button",tabIndex:-1,onClick:t,children:a})}function C({message:t,onRestore:a}){return e.jsx(g,{variant:"warning",message:t,icon:e.jsx(_,{size:20}),action:e.jsx("button",{onClick:a,children:"Restore",className:"text-yellow-800 focus:outline-none text-xs font-medium hover:underline"})})}const T=()=>{const{user:t}=h().props,{data:a,setData:o,errors:s,post:m,processing:d}=x({first_name:t.first_name||"",last_name:t.last_name||"",email:t.email||"",password:t.password||"",owner:t.owner?"1":"0",type:t.type||"",photo:"",_method:"put"});function u(r){r.preventDefault(),m(route("users.update",t.id))}function p(){confirm("Are you sure you want to delete this user?")&&i.delete(route("users.destroy",t.id))}function c(){confirm("Are you sure you want to restore this user?")&&i.put(route("users.restore",t.id))}return e.jsxs("div",{children:[e.jsx(f,{title:`${a.first_name} ${a.last_name}`}),e.jsxs("div",{className:"flex justify-start max-w-lg mb-8",children:[e.jsxs("h1",{className:"text-3xl font-bold",children:[e.jsx(j,{href:route("users"),className:"text-indigo-600 hover:text-indigo-700",children:"Users"}),e.jsx("span",{className:"mx-2 font-medium text-indigo-600",children:"/"}),a.first_name," ",a.last_name]}),t.photo&&e.jsx("img",{className:"block w-8 h-8 ml-4 rounded-full",src:t.photo})]}),t.deleted_at&&e.jsx(C,{message:"This user has been deleted.",onRestore:c}),e.jsx("div",{className:"max-w-3xl overflow-hidden bg-white rounded shadow",children:e.jsxs("form",{onSubmit:u,children:[e.jsxs("div",{className:"grid gap-8 p-8 lg:grid-cols-2",children:[e.jsx(n,{label:"First Name",name:"first_name",error:s.first_name,children:e.jsx(l,{name:"first_name",error:s.first_name,value:a.first_name,onChange:r=>o("first_name",r.target.value)})}),e.jsx(n,{label:"Last Name",name:"last_name",error:s.last_name,children:e.jsx(l,{name:"last_name",error:s.last_name,value:a.last_name,onChange:r=>o("last_name",r.target.value)})}),e.jsx(n,{label:"Email",name:"email",error:s.email,children:e.jsx(l,{name:"email",type:"email",error:s.email,value:a.email,onChange:r=>o("email",r.target.value)})}),e.jsx(n,{label:"Password",name:"password",error:s.password,children:e.jsx(l,{name:"password",type:"password",error:s.password,value:a.password,onChange:r=>o("password",r.target.value)})}),e.jsx(n,{label:"Type",name:"type",error:s.type,children:e.jsx(v,{name:"owner",error:s.type,value:a.type,onChange:r=>o("type",r.target.value),options:[{value:"admin",label:"Admin"},{value:"lecture",label:"Lecture"},{value:"student",label:"Student"}]})}),e.jsx(n,{label:"Photo",name:"photo",error:s.photo,children:e.jsx(w,{name:"photo",accept:"image/*",error:s.photo,value:a.photo,onChange:r=>{o("photo",r)}})})]}),e.jsxs("div",{className:"flex items-center px-8 py-4 bg-gray-100 border-t border-gray-200",children:[!t.deleted_at&&e.jsx(N,{onDelete:p,children:"Delete User"}),e.jsx(b,{loading:d,type:"submit",className:"ml-auto btn-indigo",children:"Update User"})]})]})})]})};T.layout=t=>e.jsx(y,{children:t});export{T as default};
